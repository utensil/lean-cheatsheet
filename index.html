<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="Description" content="Syntax, guides and links related to Lean development.">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2">

    <title>Lean Language Cheat Sheet</title>

    <!-- Icon -->
    <link rel="icon" type="image/png" href="favicon32.png">

    <!-- CSS -->
    <!-- <link rel="stylesheet" href="font-opensans.css" /> -->
    <link rel="stylesheet" href="font-fira.css" />
    <link rel="stylesheet" href="book.css" />
    <link rel="stylesheet" href="book.css" />
    <link rel="stylesheet" href="https://www.unpkg.com/highlightjs@9.16.2/styles/default.css" />
    <!-- <link rel="stylesheet" href="https://www.unpkg.com/highlightjs@9.16.2/styles/railscasts.css" /> -->
</head>

<body>

    <div class="page">
        <div class="page__content">
            <div class="book-content">
                <h1></h1>
                <div class="title">Lean Prover Cheat Sheet</div>
<div class="subtitle"><span id="subtitle"">20.06.2020</span></div>
<blockquote>
<div class="toc">
<div class="column">
<p>Contains clickable links to these guides:</p>
<ul>
<li><strong>Natural Number Game</strong> <a href="http://wwwf.imperial.ac.uk/%7Ebuzzard/xena/natural_number_game/"><sup class="entry">NNG</sup></a></li>
<li><strong>Theorem Proving in Lean</strong> <a href="https://leanprover.github.io/theorem_proving_in_lean/"><sup class="entry">TPIL</sup></a></li>
<li><strong>Mathematics in Lean</strong> <a href="https://leanprover-community.github.io/mathematics_in_lean/"><sup class="entry">MIL</sup></a></li>
<li><strong>Tutorials</strong> <a href="https://github.com/leanprover-community/tutorials"><sup class="mid">tutorials</sup></a></li>
<li><strong>Logic and Proof</strong> <a href="https://leanprover.github.io/logic_and_proof/"><sup class="entry">Logic</sup></a></li>
<li><strong>The Hitchhiker's Guide</strong> <a href="https://github.com/blanchette/logical_verification_2020/raw/master/hitchhikers_guide.pdf#page="><sup class="expert">hiker</sup></a></li>
</ul>
</div>
<div class="column">
<p>... and these docs:</p>
<ul>
<li><strong>The Lean Reference Manual</strong> <a href="https://leanprover.github.io/reference/"><sup class="expert">REF</sup></a></li>
<li><strong>Mathlib Docs</strong> <a href="https://leanprover-community.github.io/mathlib_docs/find/nat"><sup class="mid">docs</sup></a></li>
<li><strong>Tactic</strong> <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#std"><sup class="mid">tactic</sup></a></li>
<li><strong>Source</strong> <a href="https://leanprover-community.github.io/mathlib_docs/find/nat/src"><sup class="mid">src</sup></a></li>
</ul>
<p>Uses these symbols:</p>
<ul>
<li>largely <strong>deprecated</strong> <sup>üóëÔ∏è</sup></li>
<li>is <strong>work in progress</strong> <sup>üöß</sup></li>
<li><strong>bad</strong> <sup>üõë</sup></li>
</ul>
</div>
</div>
</blockquote>
<div class="controls">
    <a href="javascript:toggle_night_mode()">Night Mode &#x1f4a1;</a>
</div>
<div class="noprint">
<div class="toc">
<div class="column">
<p><strong>TODO</strong></p>
<ul>
<li>TODO</li>
</ul>
</div>
<div class="column">
<p><strong>TODO</strong></p>
<ul>
<li>TODO</li>
</ul>
</div>
</div>
</div>
<h2 id="hello-lean">Hello, Lean!</h2>
<p>If you are new to Lean, maybe you want to try these:</p>
<div class="tabs">
<!-- NEW TAB -->
<div class="tab">
<input class="tab-radio" type="radio" id="tab-hello-1" name="tab-hello" checked>
<label class="tab-label" for="tab-hello-1"><b>A First Proof</b></label>
<div class="tab-panel">
<div class="tab-content">
<pre><code>example (m n : ‚Ñï) : m + n = n + m :=
by simp [nat.add_comm]
</code></pre>
</div></div></div>
<!-- NEW TAB -->
<div class="tab">
<input class="tab-radio" type="radio" id="tab-hello-3" name="tab-hello">
<label class="tab-label" for="tab-hello-3"><b>A Taste of Longer Proofs</b></label>
<div class="tab-panel">
<div class="tab-content">
<pre><code>class has_dist (Œ± : Type*) := (dist : Œ± ‚Üí Œ± ‚Üí ‚Ñù)

instance has_dist_metric_quot {Œ± : Type u} [premetric_space Œ±] : has_dist (metric_quot Œ±) :=
{
  dist := quotient.lift‚ÇÇ (Œªp q : Œ±, dist p q)    /- Term        -/
  begin
    assume x y x' y' hxx' hyy',
    have Hxx' : dist x  x' = 0 := hxx',          /- Structural  -/
    have Hyy' : dist y  y' = 0 := hyy',
    have A    : dist x  y  ‚â§ dist x' y' := calc  /- Calculation -/
                dist x  y  ‚â§ dist x  x' + dist x' y   : premetric_space.dist_triangle _ _ _ 
                       ... = dist x' y                : by simp [Hxx']  /- Tactic -/
                       ... ‚â§ dist x' y' + dist y' y   : premetric_space.dist_triangle _ _ _
                       ... = dist x' y'               : by simp [premetric_space.dist_comm, Hyy'],
    have B    : dist x' y' ‚â§ dist x  y   := calc
                dist x' y' ‚â§ dist x' x  + dist x y'   : premetric_space.dist_triangle _ _ _
                       ... = dist x  y'               : by simp [premetric_space.dist_comm, Hxx']
                       ... ‚â§ dist x  y  + dist y y'   : premetric_space.dist_triangle _ _ _
                       ... = dist x  y                : by simp [Hyy'],
    exact le_antisymm A B
  end
}
</code></pre>
<p>This example proof is adapted from <a href="https://github.com/leanprover-community/mathlib/blob/master/src/topology/metric_space/premetric_space.lean">topology.metric_space.premetric_space in mathlib</a>, it demonstrats the first 4 of 6 combinable proof paradigms Lean supports:</p>
<table><thead><tr><th>Paradigms</th><th>How is it like</th><th>When to use</th></tr></thead><tbody>
<tr><td>Tactic</td><td>Reasoning backwards from the goal of the proof, keep transforming the goal until it boils down to the hypotheses</td><td>TODO</td></tr>
<tr><td>Term</td><td>Reasoning like lambda functions with the help of the type system, very concise</td><td>TODO</td></tr>
<tr><td>Structural</td><td>Reasonning forwards from the hypothesis, reaching some intermediate goals, eventually prove the final goal</td><td>TODO</td></tr>
<tr><td>Calculation</td><td>Reasoning like doing calculation on paper with many intermediate steps (every step is justified by a short proof using other modes)</td><td>TODO</td></tr>
<tr><td>Conversation</td><td>Freely traverse in the lhs and rhs of hypotheses and goals, to manipulate them</td><td>TODO</td></tr>
<tr><td>Pattern matching</td><td>(a.k.a equation compiler ) Prove for each matched pattern, optionally recursively</td><td>good for inductive type and recursive functions</td></tr>
</tbody></table>
</div></div></div>
</div>
<footer>
<p>Utensil Song, 2020 ‚Äì <a href="https://utensil.github.io/lean-cheatsheet/">lean-cheatsheet</a> <br/><br/> <a href="https://utensil.github.io/lean-cheatsheet/legal">Legal &amp; Privacy</a></p>
</footer>

            </div>
        </div>
    </div>

    <!--  To get data url which our embed script doesn't see for some reason   -->
    <!-- <img src="magic.png"/>-->

    <!-- Github ribbon -->
    <a class="noprint" href="https://github.com/utensil/lean-cheatsheet/"><img
            style="position: absolute; top: 0; right: 0; border: 0;" src="forkme_right_gray.png"
            alt="Fork me on GitHub"></a>

    <!-- Syntax highlighting -->
    <script type="text/javascript" src="https://www.unpkg.com/highlightjs@9.16.2/highlight.pack.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/highlightjs-lean/dist/lean.min.js"></script>
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
    </script>
    <script type="text/javascript" src="index.js"></script>
</body>

</html>