<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="Description" content="Syntax, guides and links related to Lean development.">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2">

    <title>Lean Language Cheat Sheet</title>

    <!-- Icon -->
    <link rel="icon" type="image/png" href="favicon32.png">

    <!-- CSS -->
    <!-- <link rel="stylesheet" href="font-opensans.css" /> -->
    <link rel="stylesheet" href="font-fira.css" />
    <link rel="stylesheet" href="book.css" />
    <link rel="stylesheet" href="book.css" />
    <link rel="stylesheet" href="https://www.unpkg.com/highlightjs@9.16.2/styles/default.css" />
    <!-- <link rel="stylesheet" href="https://www.unpkg.com/highlightjs@9.16.2/styles/railscasts.css" /> -->
</head>

<body>

    <div class="page">
        <div class="page__content">
            <div class="book-content">
                <h1></h1>
                <div class="title">Lean Prover Cheat Sheet</div>
<div class="subtitle"><span id="subtitle"">25.07.2020</span></div>
<blockquote>
<div class="toc">
<div class="column">
<p>Contains clickable links to these guides:</p>
<ul>
<li><strong>Natural Number Game</strong> <a href="http://wwwf.imperial.ac.uk/%7Ebuzzard/xena/natural_number_game/"><sup class="entry">NNG</sup></a></li>
<li><strong>Theorem Proving in Lean</strong> <a href="https://leanprover.github.io/theorem_proving_in_lean/"><sup class="entry">TPIL</sup></a></li>
<li><strong>Mathematics in Lean</strong> <a href="https://leanprover-community.github.io/mathematics_in_lean/"><sup class="entry">MIL</sup></a></li>
<li><strong>Tutorials</strong> <a href="https://github.com/leanprover-community/tutorials"><sup class="mid">tutorials</sup></a></li>
<li><strong>Logic and Proof</strong> <a href="https://leanprover.github.io/logic_and_proof/"><sup class="entry">Logic</sup></a></li>
<li><strong>The Hitchhiker's Guide</strong> <a href="https://github.com/blanchette/logical_verification_2020/raw/master/hitchhikers_guide.pdf#page="><sup class="expert">hiker</sup></a></li>
</ul>
</div>
<div class="column">
<p>... and these docs:</p>
<ul>
<li><strong>The Lean Reference Manual</strong> <a href="https://leanprover.github.io/reference/"><sup class="expert">REF</sup></a></li>
<li><strong>Mathlib Docs</strong> <a href="https://leanprover-community.github.io/mathlib_docs/find/nat"><sup class="mid">docs</sup></a></li>
<li><strong>Tactic</strong> <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#assume"><sup class="mid">tactic</sup></a></li>
<li><strong>Source</strong> <a href="https://leanprover-community.github.io/mathlib_docs/find/nat/src"><sup class="mid">src</sup></a></li>
</ul>
<!-- Uses these symbols:

- largely **deprecated** <sup>üóëÔ∏è</sup>
- is **work in progress** <sup>üöß</sup>
- **bad** <sup>üõë</sup> -->
</div>
</div>
</blockquote>
<div class="controls">
    <a href="javascript:toggle_night_mode()">Night Mode &#x1f4a1;</a>
</div>
<div class="noprint">
<div class="toc">
<div class="column">
<!-- **TODO**

- TODO -->
</div>
<div class="column">
<!-- **TODO**

- TODO -->
</div>
</div>
</div>
<h2 id="hello-lean">Hello, Lean!</h2>
<p>If you are new to Lean, maybe you want to try these:</p>
<h3 id="a-first-proof">A First Proof</h3>
<pre><code>example (m n : ‚Ñï) : m + n = n + m :=
by simp [nat.add_comm]
</code></pre>
<h3 id="a-longer-proof">A Longer Proof</h3>
<pre><code>import tactic
import tactic.lint

open int

theorem le.antisymm : ‚àÄ {a b : ‚Ñ§}, a ‚â§ b ‚Üí b ‚â§ a ‚Üí a = b :=
begin
assume a b : ‚Ñ§, assume (H‚ÇÅ : a ‚â§ b) (H‚ÇÇ : b ‚â§ a),
obtain ‚ü®n, Hn‚ü© := int.le.dest H‚ÇÅ,
obtain ‚ü®m, Hm‚ü© := int.le.dest H‚ÇÇ,
have H‚ÇÉ : a + of_nat (n + m) = a + 0, from
  calc
    a + of_nat (n + m) = a + (of_nat n + m) : rfl
      ... = a + (n + m)                     : by rw of_nat_eq_coe
      ... = a + n + m                       : by rw add_assoc
      ... = b + m                           : by rw Hn
      ... = a                               : Hm
      ... = a + 0                           : by rw add_zero,
have H‚ÇÑ : of_nat (n + m) = of_nat 0, from add_left_cancel H‚ÇÉ,
have H‚ÇÖ : n + m = 0,                 from of_nat.inj H‚ÇÑ,
have h‚ÇÜ : n = 0,                     from nat.eq_zero_of_add_eq_zero_right H‚ÇÖ,
show a = b, from
  calc
    a = a + 0    : by simp_rw [add_zero]
  ... = a + n    : by simp_rw [h‚ÇÜ, int.coe_nat_zero]
  ... = b        : Hn
end
</code></pre>
<p>This example proof is rewritten from <a href="https://github.com/leanprover/lean2/blob/master/library/data/int/order.lean#L112">Lean 2 paper example</a>, it demonstrats the first 4 of 6 combinable proof paradigms Lean supports:</p>
<div class="tabs">
<div class="tab">
  <input class="tab-radio" type="radio" id="tab-tactic-mode" name="tab-mode" checked>
  <label class="tab-label" for="tab-tactic-mode"><b>Tactic</b></label>
  <div class="tab-panel">
    <div class="tab-content">
<h4 id="what-is-it">What is it</h4>
<p>Reasoning backwards:</p>
<p>goal ‚Üí transformed (sub-)goals ‚Üí hypotheses</p>
<h4 id="looks-like">Looks like</h4>
<p><code>begin ... end</code></p>
<p><code>by { ... }</code></p>
<p><code>intro</code>/<code>apply</code>/<code>exact</code>/...</p>
<blockquote>
<p>See also <a href="https://leanprover.github.io/theorem_proving_in_lean/tactics.html#entering-tactic-mode"><sup class="entry">TPIL</sup></a></p>
</blockquote>
</div></div></div>
<div class="tab">
  <input class="tab-radio" type="radio" id="tab-structured-mode" name="tab-mode" >
  <label class="tab-label" for="tab-structured-mode"><b>Structured</b></label>
  <div class="tab-panel">
    <div class="tab-content">
<h4 id="what-is-it-1">What is it</h4>
<p>Reasonning forwards:</p>
<p>hypotheses ‚Üí intermediate goals ‚Üí goal</p>
<h4 id="looks-like-1">Looks like</h4>
<p><code>assume</code>/<code>let</code>/<code>have</code>/<code>show</code>/...</p>
<blockquote>
<p>See also <a href="https://leanprover.github.io/theorem_proving_in_lean/tactics.html#structuring-tactic-proofs"><sup class="entry">TPIL</sup></a></p>
</blockquote>
</div></div></div>
<div class="tab">
  <input class="tab-radio" type="radio" id="tab-term-mode" name="tab-mode" >
  <label class="tab-label" for="tab-term-mode"><b>Term</b></label>
  <div class="tab-panel">
    <div class="tab-content">
<h4 id="what-is-it-2">What is it</h4>
<p>Reasoning concisely like lambda functions with the help of the type system.</p>
<h4 id="looks-like-2">Looks like</h4>
<p><code>Œª x y, f $ g x y</code></p>
<blockquote>
<p>See also <a href="https://leanprover.github.io/theorem_proving_in_lean/tactics.html#entering-tactic-mode"><sup class="entry">TPIL</sup></a></p>
</blockquote>
</div></div></div>
<div class="tab">
  <input class="tab-radio" type="radio" id="tab-calc-mode" name="tab-mode" >
  <label class="tab-label" for="tab-calc-mode"><b>Calculational</b></label>
  <div class="tab-panel">
    <div class="tab-content">
<h4 id="what-is-it-3">What is it</h4>
<p>Reasoning like doing calculation with intermediate steps justified by a short proof</p>
<h4 id="looks-like-3">Looks like</h4>
<pre><code>calc a + b
     = a + 0 + b : by tactic_proof
  ...= a + (0 + b) : term_proof
  ...‚â• a : proof
</code></pre>
<blockquote>
<p>See also <a href="https://leanprover-community.github.io/extras/calc.html">calc</a>, <a href="https://leanprover.github.io/theorem_proving_in_lean/quantifiers_and_equality.html#calculational-proofs"><sup class="entry">TPIL</sup></a></p>
</blockquote>
</div></div></div>
<div class="tab">
  <input class="tab-radio" type="radio" id="tab-conv-mode" name="tab-mode" >
  <label class="tab-label" for="tab-conv-mode"><b>Conversation</b></label>
  <div class="tab-panel">
    <div class="tab-content">
<h4 id="what-is-it-4">What is it</h4>
<p>Freely traverse in the lhs and rhs of hypotheses and goals, to manipulate them.</p>
<h4 id="looks-like-4">Looks like</h4>
<p><code>conv_lhs { ... }</code></p>
<p><code>conv_rhs { ... }</code></p>
<h4 id="example">Example</h4>
<pre><code>example : 0 + 0 = 0 :=
begin
  conv_lhs {simp}
end
</code></pre>
<blockquote>
<p>See also <a href="https://leanprover-community.github.io/extras/conv.html">conv</a></p>
</blockquote>
</div></div></div>
<div class="tab">
  <input class="tab-radio" type="radio" id="tab-equation-compiler" name="tab-mode" >
  <label class="tab-label" for="tab-equation-compiler"><b>Pattern matching</b></label>
  <div class="tab-panel">
    <div class="tab-content">
<h4 id="what-is-it-5">What is it</h4>
<p>(a.k.a equation compiler )</p>
<p>Prove for each matched pattern, optionally recursively, good for inductive type and recursive functions.</p>
<h4 id="looks-like-5">Looks like</h4>
<p><code>| pattern := proof</code></p>
<h4 id="example-1">Example</h4>
<pre><code>inductive nat
| zero : nat
| succ (n : nat) : nat

def add : nat ‚Üí nat ‚Üí nat
| m zero     := m
| m (succ n) := succ (add m n)

local infix ` + ` := add

theorem add_zero (m : nat) : m + zero = m := rfl
theorem add_succ (m n : nat) : m + succ n = succ (m + n) := rfl

theorem zero_add : ‚àÄ n, zero + n = n
| zero     := rfl
| (succ n) := congr_arg succ (zero_add n)
</code></pre>
<blockquote>
<p>See also <a href="https://leanprover.github.io/theorem_proving_in_lean/induction_and_recursion.html#structural-recursion-and-induction"><sup class="entry">TPIL</sup></a></p>
</blockquote>
</div></div></div>
</div>
<footer>
<p>Utensil Song, 2020 ‚Äì <a href="https://utensil.github.io/lean-cheatsheet/">lean-cheatsheet</a> <br/><br/> <a href="https://utensil.github.io/lean-cheatsheet/legal">Legal &amp; Privacy</a></p>
</footer>

            </div>
        </div>
    </div>

    <!--  To get data url which our embed script doesn't see for some reason   -->
    <!-- <img src="magic.png"/>-->

    <!-- Github ribbon -->
    <a class="noprint" href="https://github.com/utensil/lean-cheatsheet/"><img
            style="position: absolute; top: 0; right: 0; border: 0;" src="forkme_right_gray.png"
            alt="Fork me on GitHub"></a>

    <!-- Syntax highlighting -->
    <script type="text/javascript" src="https://www.unpkg.com/highlightjs@9.16.2/highlight.pack.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/highlightjs-lean/dist/lean.min.js"></script>
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
    </script>
    <script type="text/javascript" src="index.js"></script>
</body>

</html>