<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="Description" content="Syntax, guides and links related to Lean development.">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2">

    <title>Lean Language Cheat Sheet</title>

    <!-- Icon -->
    <link rel="icon" type="image/png" href="favicon32.png">

    <!-- CSS -->
    <!-- <link rel="stylesheet" href="font-opensans.css" /> -->
    <link rel="stylesheet" href="font-fira.css" />
    <link rel="stylesheet" href="book.css" />
    <link rel="stylesheet" href="book.css" />
    <link rel="stylesheet" href="https://www.unpkg.com/highlightjs@9.16.2/styles/default.css" />
    <!-- <link rel="stylesheet" href="https://www.unpkg.com/highlightjs@9.16.2/styles/railscasts.css" /> -->
</head>

<body>

    <div class="page">
        <div class="page__content">
            <div class="book-content">
                <h1></h1>
                <div class="title">Lean Prover Cheat Sheet</div>
<div class="subtitle"><span id="subtitle"">25.07.2020</span></div>
<blockquote>
<div class="toc">
<div class="column">
<p>Contains clickable links to these guides:</p>
<ul>
<li><strong>Natural Number Game</strong> <a href="http://wwwf.imperial.ac.uk/%7Ebuzzard/xena/natural_number_game/"><sup class="entry">NNG</sup></a></li>
<li><strong>Theorem Proving in Lean</strong> <a href="https://leanprover.github.io/theorem_proving_in_lean/"><sup class="entry">TPIL</sup></a></li>
<li><strong>Mathematics in Lean</strong> <a href="https://leanprover-community.github.io/mathematics_in_lean/"><sup class="entry">MIL</sup></a></li>
<li><strong>Tutorials</strong> <a href="https://github.com/leanprover-community/tutorials"><sup class="mid">tutorials</sup></a></li>
<li><strong>Logic and Proof</strong> <a href="https://leanprover.github.io/logic_and_proof/"><sup class="entry">Logic</sup></a></li>
<li><strong>The Hitchhiker's Guide</strong> <a href="https://github.com/blanchette/logical_verification_2020/raw/master/hitchhikers_guide.pdf#page="><sup class="expert">hiker</sup></a></li>
</ul>
</div>
<div class="column">
<p>... and these docs:</p>
<ul>
<li><strong>The Lean Reference Manual</strong> <a href="https://leanprover.github.io/reference/"><sup class="expert">REF</sup></a></li>
<li><strong>Mathlib Docs</strong> <a href="https://leanprover-community.github.io/mathlib_docs/find/nat"><sup class="mid">docs</sup></a></li>
<li><strong>Tactic</strong> <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#assume"><sup class="mid">tactic</sup></a></li>
<li><strong>Source</strong> <a href="https://leanprover-community.github.io/mathlib_docs/find/nat/src"><sup class="mid">src</sup></a></li>
</ul>
<!-- Uses these symbols:

- largely **deprecated** <sup>üóëÔ∏è</sup>
- is **work in progress** <sup>üöß</sup>
- **bad** <sup>üõë</sup> -->
</div>
</div>
</blockquote>
<div class="controls">
    <a href="javascript:toggle_night_mode()">Night Mode &#x1f4a1;</a>
</div>
<div class="noprint">
<div class="toc">
<div class="column">
<!-- **TODO**

- TODO -->
</div>
<div class="column">
<!-- **TODO**

- TODO -->
</div>
</div>
</div>
<h2 id="hello-lean">Hello, Lean!</h2>
<p>If you are new to Lean, maybe you want to try these:</p>
<h3 id="a-first-proof">A First Proof</h3>
<pre><code>example (m n : ‚Ñï) : m + n = n + m :=
by simp [nat.add_comm]
</code></pre>
<h3 id="a-longer-proof">A Longer Proof</h3>
<pre><code>import tactic
import tactic.lint

open int

theorem le.antisymm : ‚àÄ {a b : ‚Ñ§}, a ‚â§ b ‚Üí b ‚â§ a ‚Üí a = b :=
begin
assume a b : ‚Ñ§, assume (H‚ÇÅ : a ‚â§ b) (H‚ÇÇ : b ‚â§ a),
obtain ‚ü®n, Hn‚ü© := int.le.dest H‚ÇÅ,
obtain ‚ü®m, Hm‚ü© := int.le.dest H‚ÇÇ,
have H‚ÇÉ : a + of_nat (n + m) = a + 0, from
  calc
    a + of_nat (n + m) = a + (of_nat n + m) : rfl
      ... = a + (n + m)                     : by rw of_nat_eq_coe
      ... = a + n + m                       : by rw add_assoc
      ... = b + m                           : by rw Hn
      ... = a                               : Hm
      ... = a + 0                           : by rw add_zero,
have H‚ÇÑ : of_nat (n + m) = of_nat 0, from add_left_cancel H‚ÇÉ,
have H‚ÇÖ : n + m = 0,                 from of_nat.inj H‚ÇÑ,
have h‚ÇÜ : n = 0,                     from nat.eq_zero_of_add_eq_zero_right H‚ÇÖ,
show a = b, from
  calc
    a = a + 0    : by simp_rw [add_zero]
  ... = a + n    : by simp_rw [h‚ÇÜ, int.coe_nat_zero]
  ... = b        : Hn
end
</code></pre>
<p>This example proof is rewritten from <a href="https://github.com/leanprover/lean2/blob/master/library/data/int/order.lean#L112">Lean 2 paper example</a>, it demonstrats the first 4 of 6 combinable proof paradigms Lean supports:</p>
<div class="tabs">
<!-- NEW TAB -->
<div class="tab">
  <input class="tab-radio" type="radio" id="tab-tactic-mode" name="tab-tactic-mode" checked=1>
  <label class="tab-label" for="tab-tactic-mode"><b>Tactic</b></label>
  <div class="tab-panel">
  <div class="tab-content">
#### What is it 
&gt; {{ tpil(page=&quot;tactics.html#entering-tactic-mode&quot;) }}
Reasoning backwards:
goal ‚Üí transformed (sub-)goals ‚Üí hypotheses
#### Looks like
`begin ... end`
`by { ... }`
`intro`&#x2F;`apply`&#x2F;`exact`&#x2F;...
</div></div></div>
<!-- NEW TAB -->
<div class="tab">
  <input class="tab-radio" type="radio" id="tab-term-mode" name="tab-term-mode" checked=0>
  <label class="tab-label" for="tab-term-mode"><b>Term</b></label>
  <div class="tab-panel">
  <div class="tab-content">
#### What is it 
&gt; {{ tpil(page=&quot;tactics.html#entering-tactic-mode&quot;) }}
Reasoning concisely like lambda functions with the help of the type system.
#### Looks like
`Œª x y, f $ g x y`
</div></div></div>
<!-- NEW TAB -->
<div class="tab">
  <input class="tab-radio" type="radio" id="tab-calc-mode" name="tab-calc-mode" checked=0>
  <label class="tab-label" for="tab-calc-mode"><b>Calculational</b></label>
  <div class="tab-panel">
  <div class="tab-content">
&gt; [calc](https:&#x2F;&#x2F;leanprover-community.github.io&#x2F;extras&#x2F;calc.html) {{ tpil(page=&quot;quantifiers_and_equality.html#calculational-proofs&quot;) }}
#### What is it
Reasoning like doing calculation with intermediate steps justified by a short proof
#### Looks like
```
calc a + b
     = a + 0 + b : by tactic_proof
  ...= a + (0 + b) : term_proof
  ...‚â• a : proof
```
</div></div></div>
<!-- NEW TAB -->
<div class="tab">
  <input class="tab-radio" type="radio" id="tab-conv-mode" name="tab-conv-mode" checked=0>
  <label class="tab-label" for="tab-conv-mode"><b>Conversation</b></label>
  <div class="tab-panel">
  <div class="tab-content">
&gt; [conv](https:&#x2F;&#x2F;leanprover-community.github.io&#x2F;extras&#x2F;conv.html)
#### What is it
Freely traverse in the lhs and rhs of hypotheses and goals, to manipulate them.
#### Looks like
`conv_lhs { ... }`
`conv_rhs { ... }`
#### Example
```
example : 0 + 0 = 0 :=
begin
  conv_lhs {simp}
end
```
</div></div></div>
<!-- NEW TAB -->
<div class="tab">
  <input class="tab-radio" type="radio" id="tab-equation-compiler" name="tab-equation-compiler" checked=0>
  <label class="tab-label" for="tab-equation-compiler"><b>Pattern matching</b></label>
  <div class="tab-panel">
  <div class="tab-content">
#### What is it
(a.k.a equation compiler )
Prove for each matched pattern, optionally recursively, good for inductive type and recursive functions.
#### Looks like
`| pattern := proof`
#### Example
```
lemma zero_le : ‚àÄ (n : ‚Ñï), 0 ‚â§ n
| 0     := nat.le_refl 0
| (n+1) := less_than_or_equal.step (zero_le n)
```
</div></div></div>
</div>
<footer>
<p>Utensil Song, 2020 ‚Äì <a href="https://utensil.github.io/lean-cheatsheet/">lean-cheatsheet</a> <br/><br/> <a href="https://utensil.github.io/lean-cheatsheet/legal">Legal &amp; Privacy</a></p>
</footer>

            </div>
        </div>
    </div>

    <!--  To get data url which our embed script doesn't see for some reason   -->
    <!-- <img src="magic.png"/>-->

    <!-- Github ribbon -->
    <a class="noprint" href="https://github.com/utensil/lean-cheatsheet/"><img
            style="position: absolute; top: 0; right: 0; border: 0;" src="forkme_right_gray.png"
            alt="Fork me on GitHub"></a>

    <!-- Syntax highlighting -->
    <script type="text/javascript" src="https://www.unpkg.com/highlightjs@9.16.2/highlight.pack.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/highlightjs-lean/dist/lean.min.js"></script>
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
    </script>
    <script type="text/javascript" src="index.js"></script>
</body>

</html>